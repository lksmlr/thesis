\chapter{Datenbasis}\label{ch:data}


\section{Dokumentenarten}\label{sec:documents}

Im Rahmen der Kindergeldbeantragung sind verschiedene Nachweise gültig.
Zu den anerkannten Dokumententypen zählen der offizielle Vordruck der Bundesagentur für Arbeit (KG5b)\cite{KG5b} sowie Ausbildungsverträge.
Zusätzlich laden Kunden häufig weitere Unterlagen, wie beispielsweise Schulbescheinigungen, im Portal hoch.
Da diese für den Kindergeldantrag nicht im Fokus stehen, werden sie im Folgenden unter der Kategorie „Sonstiges“ zusammengefasst.

Ziel der Arbeit ist die Extraktion spezifischer Informationen aus den genannten Dokumentenklassen.
Um die gewonnenen Informationen aus dem Dokument bereitzustellen, wird ein flaches \gls{JSON}-Schema verwendet.
Die Wahl dieses Formats wird dadurch begünstigt, dass moderne \gls{LLM}s durch ihr Training bereits eine hohe Zuverlässigkeit in der Generierung valider \gls{JSON}-Strukturen aufweisen.

Die Qualität der Dokumente, die im Onlineportal hochgeladen werden, ist sehr unterschiedlich.
Neben Scans mit guter Belichtung und hoher Auflösung enthält der Datensatz auch Fotos, die aus verschiedenen Winkeln und Entfernungen aufgenommen wurden.
Eine zusätzliche Herausforderung ist, dass die Dokumente häufig handschriftlich ausgefüllt sind.

In den Test- und Trainingsdatensätzen kommen diese Probleme in unterschiedlichen Konstellationen vor.
Der Testdatensatz umfasst insgesamt 60 Dokumente, die sich gleichmäßig auf 20 Ausbildungsverträge, 20 KG5b-Formulare und 20 sonstige Dokumente verteilen.
Der Trainingsdatensatz setzt sich aus 165 KG5b-Formularen, 227 Ausbildungsverträgen und 218 sonstigen Dokumenten zusammen.

Die Erstellung Ground Truth erfolgte in einem zweistufigen Verfahren.
Zunächst wurden die \gls{JSON}-Strukturen für den Testdatensatz vollständig manuell erstellt.
Dieser Testdatensatz diente anschließend dazu, den System-Prompt zu optimieren, bis die Ergebnisse des Basis-Modells eine zufriedenstellende Qualität erreichten.
Um den Annotationsaufwand für den Trainingsdatensatz zu reduzieren, wurde dieser optimierte Prompt für ein sogenanntes Pre-Labeling genutzt.
Das Modell generierte dabei erste Vorschläge für die \gls{JSON}-Schemas, welche im Anschluss manuell validiert und korrigiert wurden.
Dieser modellgestützte Annotationsprozess (Model-Assisted Labeling) ermöglichte eine effiziente Erstellung der Trainingsdaten bei gleichbleibend hoher Datenqualität.


\subsection{KG5b}\label{subsec:kg5b}

Der Vordruck KG5b ist, wie bereits erwähnt, ein offizielles Dokument der Bundesagentur für Arbeit, welches als Bescheinigung der Ausbildungsstätte dient.
Volljährige Kinder weisen damit gegenüber der Familienkasse den Fortbestand ihrer Ausbildung nach, was die Voraussetzung für den weiteren Kindergeldbezug ist.

Da es sich um ein standardisiertes Formular handelt, ist das Layout gleichbleibend.
Theoretisch vereinfacht dies die Extraktion der Informationen, da relevante Felder an denselben Positionen zu erwarten sind.
In der Praxis ergibt sich jedoch eine hohe Varianz durch den Ausfüllprozess.
Obwohl der Vordruck digital ausfüllbar angeboten wird, erfolgt die Bearbeitung in der Regel handschriftlich.
Zudem erzwingen Unterschriften und Firmenstempeln einen doppelten Medienbruch.
Das Dokument wird ausgedruckt, bearbeitet und anschließend wieder digitalisiert.

Abbildung\ref{fig:kg5b} zeigt ein exemplarisch ausgefülltes KG5b-Formular mit Markierung der zu extrahierenden Felder.

\begin{figure}[!ht]
    \centering
    \begin{subfigure}[b]{0.49\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/kg5b_page_1}
        \caption{Erste Seite}
        \label{fig:kg5bpage1}
    \end{subfigure}
    \hfill
    \begin{subfigure}[b]{0.49\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/kg5b_page_2}
        \caption{Zweite Seite}
        \label{fig:kg5bpage2}
    \end{subfigure}
    \caption{KG5b-Formular}
    \label{fig:kg5b}
\end{figure}

Das Zielformat für die Extraktion wird durch das folgende \gls{JSON}-Schema definiert:

\lstinputlisting[language=Python, caption={JSON-Schema für KG5b}, captionpos=b, label={lst:kg5b_schema}]{listings/kg5b.json}

Eine besondere Herausforderung bei der Verarbeitung stellen die binären Informationen dar, wie etwa die Checkbox für das Feld \texttt{apprenticeship\_ended}.
Hier muss das Modell visuell unterscheiden, ob ein Kasten leer, angekreuzt oder durchgestrichen ist.
Ebenso kritisch ist die Detektion von \texttt{signature\_company} und \texttt{stamp\_company}.
Im Gegensatz zu Textfeldern ist hier nicht der textliche Inhalt des Stempels relevant, sondern lediglich dessen Vorhandensein.
Die Stempel sind oft blass oder eingefärbt, was besonders bei Schwarz-Weiß Scans zu einer schlechten Qualität führt.
Zudem liegen die Felder \texttt{date\_document} und \texttt{signature\_company} nah beieinander.
Unterschriften sind regelmäßig größer als ihr vorgesehener Platz, wodurch das Feld \texttt{date\_document} überdeckt wird.
Zusätzlich werden die Stempel häufig zusammen mit der Unterschrift auf der linken Seite platziert.

% TODO: Beispiel erstellen für diese Felder. Eventuell Dokument drucken, ausfüllen mit richtigem Stempel usw und wieder einscannen.


\newpage
\subsection{Ausbildungsvertrag}\label{subsec:vertraege}


Im Gegensatz zu den standardisierten KG5b-Formularen weisen die Ausbildungsverträge eine signifikant höhere Varianz auf.
Dies ist auf die Vielzahl unterschiedlicher zuständiger Stellen (z.,B. Industrie- und Handelskammern, Handwerkskammern, Ärztekammern) und Firmen zurückzuführen, die jeweils ein eigenes Layout definieren.
Die Vielfalt der Dokumentenstruktur reicht dabei von formularbasierten Layouts bis hin zu unstrukturierten Fließtexten.

Eine weitere Herausforderung stellt der Umfang der Dokumente dar.
Ausbildungsverträge umfassen häufig mehrere Seiten, wobei relevante Informationen und irrelevante Informationen, wie zum Beispiel gesetzliche Rahmenbedingungen, AGBs oder Rechtsbelehrungen, gemischt auftreten.
Dies erschwert die Fokussierung des Modells auf die relevanten Daten.

Analog zu den KG5b-Formularen liegt auch hier durch die notwendigen Unterschriften und Stempel ein Medienbruch vor.
Ein wesentlicher Vorteil gegenüber den handschriftlich ausgefüllten Anträgen besteht jedoch darin, dass die inhaltlichen Daten der Verträge fast ausschließlich maschinenschriftlich vorliegen, was die Zeichenerkennung erleichtert.

Das Zielformat für die Extraktion wird durch das folgende \gls{JSON}-Schema definiert:

\lstinputlisting[language=Python, caption={JSON-Schema Vertrag}, captionpos=b,label={lst:lstvertrag}]{listings/vertrag.json}

Die Felder stimmen weitestgehend mit denen der KG5b-Formulare überein, jedoch entfallen die Felder \texttt{exam\_month} und \texttt{apprenticeship\_ended}, da diese selten auf Verträgen zu finden sind.


\subsection{Sonstige Dokumente}\label{subsec:other_documents}

Die Kategorie \texttt{Sonstiges} steht als Auffangklasse für alle restlichen Dokumente bereit.
Hier gehören zum Beispiel Schulbescheinigungen, Anträge auf Eintragung bei der Handelskammer oder Studienbescheinigungen dazu.
Da diese Dokumente keine relevanz für die Weiterbeantragung des Kindergeldes bei volljährigen Auszubildenden hat, werden keine Information benötigt.
Somit ist rein die Klassifizierung wichtig, weshalb das extrahierte \gls{JSON}-Schema folgendermaßen aussieht:

\lstinputlisting[language=Python, caption={JSON-Schema Sonstiges}, captionpos=b,label={lst:lstsonstiges}]{listings/sonstiges.json}


\section{Datenschutz}\label{sec:data_privacy}


Da es sich bei allen verwendeten Dokumenten um Echtdaten aus den Fachverfahren handelt, enthalten diese sensible personenbezogene Daten.
Der Schutz dieser Daten hat höchste Priorität.

Um die Sicherheit bei der Verarbeitung der Echtdaten zu gewährleisten, wurde ausschließlich auf die Infrastruktur der Bundesagentur für Arbeit zurückgegriffen.
Die Daten liegen in einem gesicherten Netzwerkbereich, auf den nur ein autorisierter Personenkreis Zugriff hat.
Durch die Verwendung von Echtdaten wird die Qualität der Ergebnisse deutlich gesteigert.

Alle in dieser Arbeit abgebildeten Dokumentenbeispiele wurden jedoch synthetisch erzeugt und beinhalten keinerlei sensible Daten.

